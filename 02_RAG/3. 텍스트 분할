3. 텍스트 분할

3.1 길이와 구분자로 분할하는 재귀적 문자 텍스트 분할
3.2 의미 기반으로 분할하는 시맨틱 청킹
    # 의미 단위로 분할 과정
        # 1. 문장을 임베딩 벡터로 변환하여 각 문장의 의미를 숫자로 표현
        # 2. 인접한 문장 쌍 사이의 코사인 거리 계산, 문장 간의 의미적 차이 파악
        # 코사인 거리는 수치로 나타냄
        # 0에 가까울수록 문장들이 비슷하고 1에 가까울수록 서로 다르다는 뜻
        # 3. 다음 선택 방식에 따라 분할 지점 결정
            # 백분위수 방식: 코사인 거리 값이 설정한 백분위수를 초과하는 지점을 분할 지점으로 선택
            # 표준편차 방식: 코사인 거리가 평균보다 특정 표준편차 이상 크게 떨어진 지점을 분할 지점으로 선택
            # 사분위수 방식: 코사인 거리의 사분위 범위에 따라 분할 지점 결정
    # 백분위수 방식(기본값)
        # 텍스트 내에서 문맥이 크게 달라지는 지점만 선택하여 청크를 나눔
        # 특정 부분에서 새로운 주제나 큰 의미 변화가 시작되면 그 지점에서 분할
        # 각 청크가 서로 다른 중요한 주제를 담고 있음
        # 문맥을 잘 유지
        # 의미가 통일된 덩어리로 나눔
    # 표준편차 방식
        # SemanticChunker가 제공하는 분할 방식
        # 텍스트 내에서 문장 간의 의미적 차이가 표준편차 범위를 초과하는 지점을 기준으로 텍스트를 나눔
        # 문장 간의 의미 변화가 평균에서 얼마나 벗어나는지에 따라 분할 지점을 설정
        # 텍스트 전체의 의미적 흐름을 파악
        # 새로운 주제 시작, 논점 변경, 이야기 주요 전환점 효과적 감지
    # 사분위수 방식
        # 텍스트 내에서 중간 정도의 의미적 변화를 감지하여 분할 지점을 설정
        # 중간 50%의 데이터 분포를 분석하고, 이 범위에서 벗어나는 지점을 기준으로 텍스트를 분할
        # 주요 주제 전환, 새로운 주제 시작에서 분할 -> 각 청크가 논리적으로 완결된 정보를 담아 문맥이 자연스럽게 연결
        # 긴 문서에서 주요 섹션의 경계 효과적 식별
        # 이상치에 덜 민감
        # 텍스트의 흐름 유지하면서도 중요한 주제 전환 자연스럽게 포착